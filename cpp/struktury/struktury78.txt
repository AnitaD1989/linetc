#include <iostream>
#include <cstdio>
using namespace std;

struct data		// definicja struktury data
{
  int rok;
  int miesiac;
  int dzien;
};
struct uczestnik	// definicja struktury uczestnik
{
  char imie[20];
  char nazwisko[20];
  data data_urodzenia; // to pole jest typu struktury zdefiniowanej wczeœniej
};
//**********************************************************************
int wypelnij(uczestnik osoby[20]) 	  // definicje funkcji
{
  int t = 0;
  char odpowiedz = 'T';
  do
  {
    cout << "Podaj imie uczestnika  ";
    cin >> osoby[t].imie  ;
    cout << "Podaj nazwisko uczestnika  ";
    cin >> osoby[t].nazwisko ;
    cout << "Podaj rok urodzenia uczestnika  ";
    cin >> osoby[t].data_urodzenia.rok;
    cout << "Podaj miesiac urodzenia uczestnika  ";
    cin >> osoby[t].data_urodzenia.miesiac;
    cout << "Podaj dzien urodzenia uczestnika  ";
    cin >> osoby[t].data_urodzenia.dzien;
    cout << "Czy ktos jeszcze chce sie zapisac? T/N  " ;
    cin >> odpowiedz;
    t++;
    cout<<endl;
  }while (t<20 && odpowiedz!='N' && odpowiedz!='n');
  return t;
}
//**********************************************************************
void wypisz(uczestnik t[20], int liczba)
{
  for (int i=0; i<liczba; i++)
  {
    cout << t[i].imie << "   " << t[i].nazwisko;
    cout << "   " << t[i].data_urodzenia.rok; 
    cout << "   " << t[i].data_urodzenia.miesiac;
    cout << "   " << t[i].data_urodzenia.dzien << endl;
  }
}
//**********************************************************************
uczestnik znajdz_opiekuna(uczestnik t[20], int liczba)
{
  uczestnik opiekun;
  opiekun = t[0];
  for (int i=1; i<liczba; i++)
    if (opiekun.data_urodzenia.rok>t[i].data_urodzenia.rok)
      opiekun = t[i];
  return opiekun;
}
//**********************************************************************
void wypisz(uczestnik ktos)
{
  cout << ktos.imie << "   " << ktos.nazwisko;
  cout << "   " << ktos.data_urodzenia.rok;
  cout << "   " << ktos.data_urodzenia.miesiac;
  cout << "   " << ktos.data_urodzenia.dzien << endl;
}
//**********************************************************************
int main()		// i wreszcie funkcja g³ówna – wykorzystuje 
{				// zdefiniowane wczesniej struktury i funcje
  uczestnik osoby[20];
  int t = wypelnij(osoby); 	// wykona siê funkcja wypelnij, a jej wartoœæ
  cout << endl << endl;		//zostanie przypisana zmiennej t
  wypisz(osoby,t);
  cout << "******Opiekun wycieczki:***********" << endl;
  wypisz(znajdz_opiekuna(osoby,t));
  cin.ignore();
  getchar();
  return 0;
}